<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>User Dashboard</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        neon: '#00ffff'
                    }
                }
            }
        }
    </script>
</head>

<body class="min-h-screen bg-gradient-to-br from-[#0f0f1a] via-[#141433] to-black text-white">

    <!-- Top Bar -->
    <div class="flex justify-between items-center px-6 py-4 border-b border-white/10">
        <h1 class="text-xl font-semibold text-cyan-200">
            ‚ö° Dashboard
        </h1>
        <a href="/logout"
           class="px-4 py-2 rounded-lg bg-red-500/20 text-red-300
                  hover:bg-red-500/30 transition">
            Logout
        </a>
    </div>

    <div class="max-w-5xl mx-auto p-6 space-y-8">

        <!-- User Profile -->
        <div class="rounded-2xl p-6 bg-white/5 backdrop-blur-xl
                    border border-white/10 shadow-lg">
            <h2 class="text-lg font-semibold text-cyan-200 mb-3">
                üë§ User Profile
            </h2>
            <p class="text-white/80">
                <span class="text-white/50">Name:</span> <%= user.name %>
            </p>
            <p class="text-white/80">
                <span class="text-white/50">Email:</span> <%= user.email %>
            </p>
        </div>

        <!-- Create Post -->
        <div class="rounded-2xl p-6 bg-white/5 backdrop-blur-xl
                    border border-white/10 shadow-lg">
            <h2 class="text-lg font-semibold text-cyan-200 mb-4">
                ‚úçÔ∏è Create Post
            </h2>

            <form action="/createPost" method="post" class="space-y-4">
                <textarea
                    name="content"
                    placeholder="Write something meaningful..."
                    required
                    class="w-full h-32 p-4 rounded-xl
                           bg-black/50 text-cyan-100
                           border border-cyan-400/30
                           focus:outline-none focus:ring-2 focus:ring-cyan-400
                           resize-none transition"
                ></textarea>

                <button
                    type="submit"
                    class="px-6 py-2 rounded-xl font-semibold
                           bg-gradient-to-r from-cyan-400 to-blue-400
                           text-black
                           hover:shadow-[0_0_20px_rgba(0,255,255,0.6)]
                           hover:-translate-y-0.5
                           active:scale-95
                           transition-all"
                >
                    Publish
                </button>
            </form>
        </div>

        <!-- Posts -->
        <div class="space-y-4">
            <h2 class="text-lg font-semibold text-cyan-200">
                üß† Your Posts
            </h2>

            <% user.post.forEach(function(post){ %>
                <div class="rounded-2xl p-5 bg-white/5 backdrop-blur-xl
                            border border-white/10
                            hover:border-cyan-400/40
                            transition">

                    <p class="text-white/90 mb-4 leading-relaxed">
                        <%= post.content %>
                    </p>

                    <div class="flex items-center justify-between text-sm">

                        <!-- Like -->
                        <a href="/like/<%= post._id %>"
                           class="flex items-center gap-2 text-white/70
                                  hover:text-cyan-300 transition">
                            ‚ù§Ô∏è <span><%= post.likes.length %></span>
                            <span>
                                <%= post.likes.includes(user._id) ? 'Unlike' : 'Like' %>
                            </span>
                        </a>

                        <!-- Edit -->
                        <a href="/edit/<%= post._id %>"
                           class="text-white/60 hover:text-cyan-300 transition">
                            ‚úèÔ∏è Edit
                        </a>
                    </div>

                </div>
            <% }); %>
        </div>

    </div>

</body>
</html>
